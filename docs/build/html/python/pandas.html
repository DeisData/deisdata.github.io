<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Making figures in Python" href="figures.html" /><link rel="prev" title="NumPy" href="numpy.html" />

    <link rel="shortcut icon" href="../_static/favicon-32x32.png"/><!-- Generated with Sphinx 4.5.0 and Furo 2023.05.20 -->
        <title>Pandas - DeisData</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=e6660623a769aa55fea372102b9bf3151b292993" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">DeisData</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/DeisDatax1x_medium.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">DeisData</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../python.html">Python</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="setup-install.html">Setup and installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter.html">Jupyter notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="python-fundamentals.html">Fundamentals</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-structures.html">Data structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="conditionals.html">Booleans and conditionals</a></li>
<li class="toctree-l2"><a class="reference internal" href="loops.html">Loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="numpy.html">NumPy</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="figures.html">Matplotlib and seaborn</a></li>
<li class="toctree-l2"><a class="reference internal" href="functions.html">Writing functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats.html">Statistical tests</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../git.html">Git Version Control</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Git Version Control</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../git/setup-install.html">Setup and Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/quick-start.html">Quick Start to GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/pushing.html">Pushing changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/fetch-merge.html">Fetch and merge from GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/git-utilities.html">Git Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/forking.html">Forking in GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/glossary.html">Git Vocabulary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../r.html">R</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of R</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../r/quick-start.html">Intro to R and the Tidyverse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../r/data-wrangling.html">Data wrangling with the Tidyverse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../r/data-visualization.html">ggplot2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../r/text-mining.html">Text Mining with R</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../shell.html">Unix Shell</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Unix Shell</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../shell/setup.html">Bash Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/navigating.html">Navigating to files and directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/alter-dir.html">Altering files and directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/pipes-filters.html">Pipes and filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/loops.html">Loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/shell-scripts.html">Shell scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/search-find.html">Searching and finding</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="pandas">
<h1>Pandas<a class="headerlink" href="#pandas" title="Permalink to this headline">#</a></h1>
<section id="materials">
<h2>Materials:<a class="headerlink" href="#materials" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://colab.research.google.com/github/DeisData/python/blob/master/sequential/pandas-codealong.ipynb">Code-along Jupyter notebook</a></p></li>
<li><p><a class="reference external" href="https://colab.research.google.com/github/DeisData/python/blob/master/sequential/pandas.ipynb">Filled-in Jupyter notebook</a></p></li>
</ul>
<p>While NumPy can be used to important data, it is optimized around
numerical data. Many data sets include categorical variables. For these
data sets, it is best to use a library called <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, which focuses
on creating and manipulating data frames.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</section>
<section id="read-data">
<h2>Read data<a class="headerlink" href="#read-data" title="Permalink to this headline">#</a></h2>
<p>With <code class="docutils literal notranslate"><span class="pre">pandas</span></code> imported, we can read in .csv files with the <code class="docutils literal notranslate"><span class="pre">pandas</span></code>
function <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code>.</p>
<p>In that function, we can specify the file we want to use with a URL or
with the path to a local file as a string.</p>
<p>This saves the data in a structure called a DataFrame.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/DeisData/python/master/data/gapminder.csv&quot;</span><span class="p">)</span> <span class="c1"># read in data</span>
</pre></div>
</div>
<p>Our data is now saved as a data frame in Python as the variable <code class="docutils literal notranslate"><span class="pre">df</span></code>.
With the data now in the environment, we can take a look at the first
few rows with <code class="docutils literal notranslate"><span class="pre">df.head()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<div class="table docutils container">
<table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th><p>country</p>
</th><th><p>year</p>
</th><th><p>region</p>
</th><th><p>population</p>
</th><th><p>life_expectancy</p>
</th><th><p>age5_surviving</p>
</th><th><p>babies_per_woman</p>
</th><th><p>gdp_per_capita</p>
</th><th><p>gdp_per_day</p>
</th></tr></thead><tbody><tr><th><p>0</p>
</th><td><p>Afghanistan</p>
</td><td><p>1800</p>
</td><td><p>Asia</p>
</td><td><p>3280000.0</p>
</td><td><p>28.21</p>
</td><td><p>53.142</p>
</td><td><p>7.0</p>
</td><td><p>603.0</p>
</td><td><p>1.650924</p>
</td></tr><tr><th><p>1</p>
</th><td><p>Afghanistan</p>
</td><td><p>1810</p>
</td><td><p>Asia</p>
</td><td><p>3280000.0</p>
</td><td><p>28.11</p>
</td><td><p>53.002</p>
</td><td><p>7.0</p>
</td><td><p>604.0</p>
</td><td><p>1.653662</p>
</td></tr><tr><th><p>2</p>
</th><td><p>Afghanistan</p>
</td><td><p>1820</p>
</td><td><p>Asia</p>
</td><td><p>3323519.0</p>
</td><td><p>28.01</p>
</td><td><p>52.862</p>
</td><td><p>7.0</p>
</td><td><p>604.0</p>
</td><td><p>1.653662</p>
</td></tr><tr><th><p>3</p>
</th><td><p>Afghanistan</p>
</td><td><p>1830</p>
</td><td><p>Asia</p>
</td><td><p>3448982.0</p>
</td><td><p>27.90</p>
</td><td><p>52.719</p>
</td><td><p>7.0</p>
</td><td><p>625.0</p>
</td><td><p>1.711157</p>
</td></tr><tr><th><p>4</p>
</th><td><p>Afghanistan</p>
</td><td><p>1840</p>
</td><td><p>Asia</p>
</td><td><p>3625022.0</p>
</td><td><p>27.80</p>
</td><td><p>52.576</p>
</td><td><p>7.0</p>
</td><td><p>647.0</p>
</td><td><p>1.771389</p>
</td></tr></tbody></table></div>
<p>We can see that this data frame has several different columns, with
information about countries and demography.</p>
</section>
<section id="summarize-data-frame">
<h2>Summarize data frame<a class="headerlink" href="#summarize-data-frame" title="Permalink to this headline">#</a></h2>
<p>It is important to understand the data we are working with before we
begin analysis. First, let’s look at the dimenions of the data frame
using <code class="docutils literal notranslate"><span class="pre">df.shape</span></code>. It gives the number of rows by the number of
columns.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(14740, 9)
</pre></div>
</div>
<p>This shows that our data frame has 14740 rows by 9 columns.</p>
<p>We can also use <code class="docutils literal notranslate"><span class="pre">df.columns</span></code> to display the column names.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Index([&#39;country&#39;, &#39;year&#39;, &#39;region&#39;, &#39;population&#39;, &#39;life_expectancy&#39;,
       &#39;age5_surviving&#39;, &#39;babies_per_woman&#39;, &#39;gdp_per_capita&#39;, &#39;gdp_per_day&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</section>
<section id="categorical-variables">
<h2>Categorical variables<a class="headerlink" href="#categorical-variables" title="Permalink to this headline">#</a></h2>
<p>Next, let’s summarize the categorical, non-numerical variables. For
instance, we can identify how many unique regions we have in the data
set.</p>
<p>First, to select a column, we use the notation <code class="docutils literal notranslate"><span class="pre">df['COLUMN_NAME']</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>0          Asia
1          Asia
2          Asia
3          Asia
4          Asia
          ...
14735    Africa
14736    Africa
14737    Africa
14738    Africa
14739    Africa
Name: region, Length: 14740, dtype: object
</pre></div>
</div>
<p>To identify unique entries in this column, we can use the <code class="docutils literal notranslate"><span class="pre">.unique()</span></code>
function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>array([&#39;Asia&#39;, &#39;Europe&#39;, &#39;Africa&#39;, &#39;America&#39;], dtype=object)
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">countries</span></code> column has many unique values, so instead of
<code class="docutils literal notranslate"><span class="pre">.unique()</span></code>, we can use <code class="docutils literal notranslate"><span class="pre">.nunique()</span></code> to find the number of unique
countries in the data set.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>182
</pre></div>
</div>
</section>
<section id="numerical-variables">
<h2>Numerical variables<a class="headerlink" href="#numerical-variables" title="Permalink to this headline">#</a></h2>
<p>Numerical columns can be summarized in several ways. Let’s find the mean
first.</p>
<p>To make things simpler, we’ll just do calculations on the
<code class="docutils literal notranslate"><span class="pre">population</span></code>, <code class="docutils literal notranslate"><span class="pre">life_expectancy</span></code>, and <code class="docutils literal notranslate"><span class="pre">babies_per_woman</span></code> columns.
We can put those names in an arrangement called a <code class="docutils literal notranslate"><span class="pre">list</span></code> and then
specify that list for the columns.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">num_cols</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;population&#39;</span><span class="p">,</span> <span class="s1">&#39;life_expectancy&#39;</span><span class="p">,</span> <span class="s1">&#39;babies_per_woman&#39;</span> <span class="p">]</span> <span class="c1"># numerical columns</span>

<span class="n">df</span><span class="p">[</span><span class="n">num_cols</span><span class="p">]</span>
</pre></div>
</div>
<div class="table docutils container">
<table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th><p>population</p>
</th><th><p>life_expectancy</p>
</th><th><p>babies_per_woman</p>
</th></tr></thead><tbody><tr><th><p>0</p>
</th><td><p>3280000.0</p>
</td><td><p>28.21</p>
</td><td><p>7.00</p>
</td></tr><tr><th><p>1</p>
</th><td><p>3280000.0</p>
</td><td><p>28.11</p>
</td><td><p>7.00</p>
</td></tr><tr><th><p>2</p>
</th><td><p>3323519.0</p>
</td><td><p>28.01</p>
</td><td><p>7.00</p>
</td></tr><tr><th><p>3</p>
</th><td><p>3448982.0</p>
</td><td><p>27.90</p>
</td><td><p>7.00</p>
</td></tr><tr><th><p>4</p>
</th><td><p>3625022.0</p>
</td><td><p>27.80</p>
</td><td><p>7.00</p>
</td></tr><tr><th><p>…</p>
</th><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td></tr><tr><th><p>14735</p>
</th><td><p>14255592.0</p>
</td><td><p>51.60</p>
</td><td><p>3.64</p>
</td></tr><tr><th><p>14736</p>
</th><td><p>14565482.0</p>
</td><td><p>54.20</p>
</td><td><p>3.56</p>
</td></tr><tr><th><p>14737</p>
</th><td><p>14898092.0</p>
</td><td><p>55.70</p>
</td><td><p>3.49</p>
</td></tr><tr><th><p>14738</p>
</th><td><p>15245855.0</p>
</td><td><p>57.00</p>
</td><td><p>3.41</p>
</td></tr><tr><th><p>14739</p>
</th><td><p>15602751.0</p>
</td><td><p>59.30</p>
</td><td><p>3.35</p>
</td></tr></tbody></table><p><p>14740 rows × 3 columns</p>
</p></div>
<p>With this set of columns, we can run <code class="docutils literal notranslate"><span class="pre">.mean()</span></code> to find the mean of
each column.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">num_cols</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="c1"># returns the mean of each column</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>population          2.252933e+07
life_expectancy     5.683453e+01
babies_per_woman    4.643472e+00
dtype: float64
</pre></div>
</div>
<p>If we want a larger variety of summary statistics, we can use the
<code class="docutils literal notranslate"><span class="pre">.describe()</span></code> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">num_cols</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
<div class="table docutils container">
<table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th><p>population</p>
</th><th><p>life_expectancy</p>
</th><th><p>babies_per_woman</p>
</th></tr></thead><tbody><tr><th><p>count</p>
</th><td><p>1.474000e+04</p>
</td><td><p>14740.000000</p>
</td><td><p>14740.000000</p>
</td></tr><tr><th><p>mean</p>
</th><td><p>2.252933e+07</p>
</td><td><p>56.834526</p>
</td><td><p>4.643472</p>
</td></tr><tr><th><p>std</p>
</th><td><p>9.307143e+07</p>
</td><td><p>15.868464</p>
</td><td><p>1.994833</p>
</td></tr><tr><th><p>min</p>
</th><td><p>2.128000e+03</p>
</td><td><p>4.000000</p>
</td><td><p>1.130000</p>
</td></tr><tr><th><p>25%</p>
</th><td><p>8.990308e+05</p>
</td><td><p>44.230000</p>
</td><td><p>2.630000</p>
</td></tr><tr><th><p>50%</p>
</th><td><p>4.063978e+06</p>
</td><td><p>60.080000</p>
</td><td><p>5.060000</p>
</td></tr><tr><th><p>75%</p>
</th><td><p>1.218722e+07</p>
</td><td><p>70.380000</p>
</td><td><p>6.440000</p>
</td></tr><tr><th><p>max</p>
</th><td><p>1.376049e+09</p>
</td><td><p>83.300000</p>
</td><td><p>9.220000</p>
</td></tr></tbody></table></div>
<p>We can also break down subgroupings of our data with the method
<code class="docutils literal notranslate"><span class="pre">.groupby()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grouped_data</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">)</span>
<span class="n">grouped_data</span><span class="p">[</span><span class="s1">&#39;population&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
<div class="table docutils container">
<table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th><p>count</p>
</th><th><p>mean</p>
</th><th><p>std</p>
</th><th><p>min</p>
</th><th><p>25%</p>
</th><th><p>50%</p>
</th><th><p>75%</p>
</th><th><p>max</p>
</th></tr><tr><th><p>region</p>
</th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th><p>Africa</p>
</th><td><p>4293.0</p>
</td><td><p>9.181313e+06</p>
</td><td><p>1.655128e+07</p>
</td><td><p>12522.0</p>
</td><td><p>996331.00</p>
</td><td><p>3457113.0</p>
</td><td><p>9901052.00</p>
</td><td><p>1.822020e+08</p>
</td></tr><tr><th><p>America</p>
</th><td><p>2673.0</p>
</td><td><p>1.667833e+07</p>
</td><td><p>4.411806e+07</p>
</td><td><p>24000.0</p>
</td><td><p>331799.00</p>
</td><td><p>2843246.0</p>
</td><td><p>10061519.00</p>
</td><td><p>3.217736e+08</p>
</td></tr><tr><th><p>Asia</p>
</th><td><p>4212.0</p>
</td><td><p>4.604245e+07</p>
</td><td><p>1.658010e+08</p>
</td><td><p>2128.0</p>
</td><td><p>512028.25</p>
</td><td><p>4011309.5</p>
</td><td><p>19517390.25</p>
</td><td><p>1.376049e+09</p>
</td></tr><tr><th><p>Europe</p>
</th><td><p>3562.0</p>
</td><td><p>1.520351e+07</p>
</td><td><p>2.463153e+07</p>
</td><td><p>61428.0</p>
</td><td><p>2308682.00</p>
</td><td><p>5186801.5</p>
</td><td><p>10638884.75</p>
</td><td><p>1.484358e+08</p>
</td></tr></tbody></table></div>
</section>
<section id="accessing-rows-and-specific-entries">
<h2>Accessing rows and specific entries<a class="headerlink" href="#accessing-rows-and-specific-entries" title="Permalink to this headline">#</a></h2>
<p>You can also to access a specific row using <code class="docutils literal notranslate"><span class="pre">df.loc[ROW,</span> <span class="pre">:]</span></code>. The
colon specifies to select all columns for that row number.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:]</span> <span class="c1"># the first row</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>country             Afghanistan
year                       1800
region                     Asia
population            3280000.0
life_expectancy           28.21
age5_surviving           53.142
babies_per_woman            7.0
gdp_per_capita            603.0
gdp_per_day            1.650924
Name: 0, dtype: object
</pre></div>
</div>
<p>We can use <code class="docutils literal notranslate"><span class="pre">.loc</span></code> to find the value of specific entries, as well.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;country&#39;</span><span class="p">]</span> <span class="c1"># first row entry for column</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;Afghanistan&#39;
</pre></div>
</div>
<section id="question">
<h3>Question<a class="headerlink" href="#question" title="Permalink to this headline">#</a></h3>
<p>Print out the summary statistics for columns <code class="docutils literal notranslate"><span class="pre">age5_surviving</span></code>,
<code class="docutils literal notranslate"><span class="pre">gdp_per_day</span></code>, and <code class="docutils literal notranslate"><span class="pre">gdp_per_capita</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">### your code below:</span>
</pre></div>
</div>
<details><summary><p>Solution</p>
</summary><div class="docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;age5_surviving&#39;</span><span class="p">,</span> <span class="s1">&#39;gdp_per_day&#39;</span><span class="p">,</span> <span class="s1">&#39;gdp_per_capita&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details></section>
</section>
<section id="manipulate-data">
<h2>Manipulate data<a class="headerlink" href="#manipulate-data" title="Permalink to this headline">#</a></h2>
<section id="subset-by-row">
<h3>Subset by row<a class="headerlink" href="#subset-by-row" title="Permalink to this headline">#</a></h3>
<p>Sometimes, we want to create a subset of the main data frame based on
certain conditions. We do this by using <code class="docutils literal notranslate"><span class="pre">df.loc</span></code> and specifying a
condition for the rows.</p>
<p>Below, we take all of the rows where <code class="docutils literal notranslate"><span class="pre">babies_per_woman</span></code> is greater or
equal to 4 with <code class="docutils literal notranslate"><span class="pre">df['babies_per_woman']</span> <span class="pre">&gt;=</span> <span class="pre">4</span></code> and assign this to a new
data frame.</p>
<p>To check that this was done correctly, we can look at the minimum of the
<code class="docutils literal notranslate"><span class="pre">babies_per_woman</span></code> column in the new data frame with <code class="docutils literal notranslate"><span class="pre">.min()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># take all rows where babies_per_woman is greater or equal to 4 and make a new data frame</span>
<span class="n">df_4</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;babies_per_woman&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">:]</span>
<span class="n">df_4</span><span class="p">[</span><span class="s1">&#39;babies_per_woman&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>4.0
</pre></div>
</div>
<p>We can use the following operators to make subsets: - Equals: <code class="docutils literal notranslate"><span class="pre">==</span></code> -
Not equals: <code class="docutils literal notranslate"><span class="pre">!=</span></code> - Greater than, less than: <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> - Greater
than or equal to: <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code> - Less than or equal to: <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p>
<p>We can also subset with categorical variables. Here, we take all rows
where the country is Hungary.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df_hungary</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Hungary&#39;</span><span class="p">,</span> <span class="p">:]</span>
<span class="n">pd</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">df_hungary</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>array([&#39;Hungary&#39;], dtype=object)
</pre></div>
</div>
</section>
<section id="math">
<h3>Math<a class="headerlink" href="#math" title="Permalink to this headline">#</a></h3>
<p>If we multiply a data frame by a single number, each value in the column
will be muliplied by that value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;babies_per_woman&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">1000</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>0        7000.0
1        7000.0
2        7000.0
3        7000.0
4        7000.0
          ...
14735    3640.0
14736    3560.0
14737    3490.0
14738    3410.0
14739    3350.0
Name: babies_per_woman, Length: 14740, dtype: float64
</pre></div>
</div>
<p>We can also do math between columns, since they have the same length.
Elements of the same row are added, substacted, multiplied, or divided.</p>
<p>Here, we subtract the <code class="docutils literal notranslate"><span class="pre">life_expectancy</span></code> column from the
<code class="docutils literal notranslate"><span class="pre">age5_surviving</span></code> column and assign it to a new column called
<code class="docutils literal notranslate"><span class="pre">life_difference</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;life_difference&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;age5_surviving&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;life_expectancy&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;life_difference&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>0        24.932
1        24.892
2        24.852
3        24.819
4        24.776
          ...
14735    39.200
14736    37.130
14737    35.970
14738    34.900
14739    32.740
Name: life_difference, Length: 14740, dtype: float64
</pre></div>
</div>
<p>This new column is now reflected in the data frame.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Index([&#39;country&#39;, &#39;year&#39;, &#39;region&#39;, &#39;population&#39;, &#39;life_expectancy&#39;,
       &#39;age5_surviving&#39;, &#39;babies_per_woman&#39;, &#39;gdp_per_capita&#39;, &#39;gdp_per_day&#39;,
       &#39;life_difference&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
<section id="question-working-with-data">
<h4>Question: Working with data<a class="headerlink" href="#question-working-with-data" title="Permalink to this headline">#</a></h4>
<p>Create a subset of data from Lithuania.</p>
<p>Within that subset, calculate the mean GDP per 1000 people across
entries.</p>
<p><em>Hint: Multiply per capita GDP by 1000.</em></p>
<details><summary><p>Solution</p>
</summary><div class="docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df_lth</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Lithuania&#39;</span><span class="p">,:]</span>
<span class="n">df_lth</span><span class="p">[</span><span class="s1">&#39;gdp_per_1000&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1000</span> <span class="o">*</span> <span class="n">df_lth</span><span class="p">[</span><span class="s1">&#39;gdp_per_capita&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_lth</span><span class="p">[</span><span class="s1">&#39;gdp_per_1000&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</pre></div>
</div>
</div>
</details><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">### Your code here:</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="create-your-own-data-frame">
<h2>Create your own data frame<a class="headerlink" href="#create-your-own-data-frame" title="Permalink to this headline">#</a></h2>
<p>To make your own data frame without a .csv, we use the function
<code class="docutils literal notranslate"><span class="pre">pd.DataFrame()</span></code>. There are many ways to use this function to
construct a data frame.</p>
<p>Here, we show how to convert a dictionary of lists into a data frame.
Each list will be its own column, and you need to make sure the lists
are all the same length. The keys of each list should be the column
names.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="s1">&#39;apple&#39;</span><span class="p">],</span>
    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">2.</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_dict</span><span class="p">)</span>
</pre></div>
</div>
<div class="table docutils container">
<table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th><p>a</p>
</th><th><p>b</p>
</th><th><p>c</p>
</th></tr></thead><tbody><tr><th><p>0</p>
</th><td><p>1</p>
</td><td><p>apple</p>
</td><td><p>-2.0</p>
</td></tr><tr><th><p>1</p>
</th><td><p>3</p>
</td><td><p>banana</p>
</td><td><p>-3.0</p>
</td></tr><tr><th><p>2</p>
</th><td><p>5</p>
</td><td><p>apple</p>
</td><td><p>-5.0</p>
</td></tr></tbody></table></div>
<p>You can also use lists of lists or 2D NumPy arrays to create data
frames. Each list will be a row, instead of a column, and you will need
to specify the column name as another argument in <code class="docutils literal notranslate"><span class="pre">pd.DataFrame()</span></code>
called <code class="docutils literal notranslate"><span class="pre">columns</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.</span><span class="p">]</span>
<span class="p">]</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_list</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="table docutils container">
<table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th><p>a</p>
</th><th><p>b</p>
</th><th><p>c</p>
</th></tr></thead><tbody><tr><th><p>0</p>
</th><td><p>1</p>
</td><td><p>apple</p>
</td><td><p>-2.0</p>
</td></tr><tr><th><p>1</p>
</th><td><p>3</p>
</td><td><p>banana</p>
</td><td><p>-3.0</p>
</td></tr><tr><th><p>2</p>
</th><td><p>5</p>
</td><td><p>apple</p>
</td><td><p>-5.0</p>
</td></tr></tbody></table></div>
<p>Note: we need to save this as a variable to use it in the future.</p>
</section>
<section id="sort-data-frame">
<h2>Sort data frame<a class="headerlink" href="#sort-data-frame" title="Permalink to this headline">#</a></h2>
<p>To sort the rows in a data frame by the value of a column, we can use
the <code class="docutils literal notranslate"><span class="pre">.sort_values()</span></code> method. The argument <code class="docutils literal notranslate"><span class="pre">by</span></code> requires a list with
a column name.</p>
<p>Again, if you want to use the sorted version in the future, you need to
save it as a new variable.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data_list</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>

<span class="n">my_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="table docutils container">
<table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th><p>a</p>
</th><th><p>b</p>
</th><th><p>c</p>
</th></tr></thead><tbody><tr><th><p>0</p>
</th><td><p>1</p>
</td><td><p>apple</p>
</td><td><p>-2.0</p>
</td></tr><tr><th><p>2</p>
</th><td><p>5</p>
</td><td><p>apple</p>
</td><td><p>-5.0</p>
</td></tr><tr><th><p>1</p>
</th><td><p>3</p>
</td><td><p>banana</p>
</td><td><p>-3.0</p>
</td></tr></tbody></table></div>
<p>You can also sort descending by specifying the <code class="docutils literal notranslate"><span class="pre">ascending=False</span></code>
argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="table docutils container">
<table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th><p>a</p>
</th><th><p>b</p>
</th><th><p>c</p>
</th></tr></thead><tbody><tr><th><p>1</p>
</th><td><p>3</p>
</td><td><p>banana</p>
</td><td><p>-3.0</p>
</td></tr><tr><th><p>0</p>
</th><td><p>1</p>
</td><td><p>apple</p>
</td><td><p>-2.0</p>
</td></tr><tr><th><p>2</p>
</th><td><p>5</p>
</td><td><p>apple</p>
</td><td><p>-5.0</p>
</td></tr></tbody></table></div>
<p>If desired, multiple column names can be specified, with priority given
to those first in the list.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="table docutils container">
<table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th><p>a</p>
</th><th><p>b</p>
</th><th><p>c</p>
</th></tr></thead><tbody><tr><th><p>1</p>
</th><td><p>3</p>
</td><td><p>banana</p>
</td><td><p>-3.0</p>
</td></tr><tr><th><p>2</p>
</th><td><p>5</p>
</td><td><p>apple</p>
</td><td><p>-5.0</p>
</td></tr><tr><th><p>0</p>
</th><td><p>1</p>
</td><td><p>apple</p>
</td><td><p>-2.0</p>
</td></tr></tbody></table></div>
</section>
<section id="add-rows">
<h2>Add rows<a class="headerlink" href="#add-rows" title="Permalink to this headline">#</a></h2>
<p>There are multiple ways to add a new row to a data frame. The most
straightforward way is to use the <code class="docutils literal notranslate"><span class="pre">pandas.concat()</span></code> function with a
new data frame with just one row.</p>
<p>We put the the two data frames into a list, and we set <code class="docutils literal notranslate"><span class="pre">axis=0</span></code> to
make sure it adds as a row. We will specify <code class="docutils literal notranslate"><span class="pre">.reset_index(drop=True)</span></code>
to reset row numbers to account for the new row.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">new_row</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;banana&#39;</span><span class="p">],</span>
    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.</span><span class="p">]</span>
<span class="p">})</span>

<span class="n">my_df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">my_df</span><span class="p">,</span> <span class="n">new_row</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">my_df2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>   a       b    c
0  1   apple -2.0
1  3  banana -3.0
2  5   apple -5.0
3  2  banana -1.0
</pre></div>
</div>
<p>You can also use this approach to add multiple rows, as well, by having
the new data frame consist of multiple rows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">new_rows</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="s1">&#39;orange&#39;</span><span class="p">],</span>
    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">4.</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.</span><span class="p">]</span>
<span class="p">})</span>

<span class="n">my_df3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">my_df2</span><span class="p">,</span> <span class="n">new_rows</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">my_df3</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>   a       b    c
0  1   apple -2.0
1  3  banana -3.0
2  5   apple -5.0
3  2  banana -1.0
4  6  banana -4.0
5  5  orange -9.0
</pre></div>
</div>
</section>
<section id="join-data-frames">
<h2>Join data frames<a class="headerlink" href="#join-data-frames" title="Permalink to this headline">#</a></h2>
<p>A critical tool in data wrangling is combining data frames that share
common values, columns, or identifiers.</p>
<p>Let’s important two new .csv files and join them.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">surveys_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/DeisData/python/master/data/surveys.csv&quot;</span><span class="p">,</span> <span class="n">keep_default_na</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">na_values</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">])</span>
<span class="n">species_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/DeisData/python/master/data/species.csv&quot;</span><span class="p">,</span> <span class="n">keep_default_na</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">na_values</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">surveys_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">species_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>   record_id  month  day  year  plot_id species_id sex  hindfoot_length  \
0          1      7   16  1977        2         NL   M             32.0
1          2      7   16  1977        3         NL   M             33.0
2          3      7   16  1977        2         DM   F             37.0
3          4      7   16  1977        7         DM   M             36.0
4          5      7   16  1977        3         DM   M             35.0

   weight
0     NaN
1     NaN
2     NaN
3     NaN
4     NaN
  species_id             genus          species    taxa
0         AB        Amphispiza        bilineata    Bird
1         AH  Ammospermophilus          harrisi  Rodent
2         AS        Ammodramus       savannarum    Bird
3         BA           Baiomys          taylori  Rodent
4         CB   Campylorhynchus  brunneicapillus    Bird
</pre></div>
</div>
<p>The shared column between these data frames is <code class="docutils literal notranslate"><span class="pre">species_id</span></code>, so this
is the column we will want to join around.</p>
<section id="inner-join">
<h3>Inner Join<a class="headerlink" href="#inner-join" title="Permalink to this headline">#</a></h3>
<p>The pandas function for performing joins is called <code class="docutils literal notranslate"><span class="pre">merge()</span></code> and an
Inner join is the default option.</p>
<p>Inner joins take all rows from both data frames that share values from
an identifier column. In our case, this means that our joined data frame
will only include rows with species identifiers present in
<code class="docutils literal notranslate"><span class="pre">species_df</span></code> and <code class="docutils literal notranslate"><span class="pre">surveys_df</span></code>.</p>
<div class="row docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;div class=&quot;col-12&quot;&gt;
    &lt;img src=&quot;/_static/images/python/pandas/innerjoin.png&quot; class=&quot;img-fluid rounded align-middle mx-auto d-block&quot; style=&quot;max-width:100%;&quot; alt=&quot;inner join&quot;&gt;
&lt;/div&gt;
</pre></div>
</div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">merged_inner</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="n">surveys_df</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="n">species_df</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;species_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;species_id&#39;</span><span class="p">)</span>

<span class="c1"># In this case `species_id` is the only column name in  both dataframes, so if we skipped `left_on`</span>
<span class="c1"># And `right_on` arguments we would still get the same result</span>

<span class="c1"># What&#39;s the size of the output data?</span>
<span class="nb">print</span><span class="p">(</span><span class="n">merged_inner</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">merged_inner</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(34786, 12)
</pre></div>
</div>
<div class="table docutils container">
<table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th><p>record_id</p>
</th><th><p>month</p>
</th><th><p>day</p>
</th><th><p>year</p>
</th><th><p>plot_id</p>
</th><th><p>species_id</p>
</th><th><p>sex</p>
</th><th><p>hindfoot_length</p>
</th><th><p>weight</p>
</th><th><p>genus</p>
</th><th><p>species</p>
</th><th><p>taxa</p>
</th></tr></thead><tbody><tr><th><p>0</p>
</th><td><p>1</p>
</td><td><p>7</p>
</td><td><p>16</p>
</td><td><p>1977</p>
</td><td><p>2</p>
</td><td><p>NL</p>
</td><td><p>M</p>
</td><td><p>32.0</p>
</td><td><p>NaN</p>
</td><td><p>Neotoma</p>
</td><td><p>albigula</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>1</p>
</th><td><p>2</p>
</td><td><p>7</p>
</td><td><p>16</p>
</td><td><p>1977</p>
</td><td><p>3</p>
</td><td><p>NL</p>
</td><td><p>M</p>
</td><td><p>33.0</p>
</td><td><p>NaN</p>
</td><td><p>Neotoma</p>
</td><td><p>albigula</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>2</p>
</th><td><p>22</p>
</td><td><p>7</p>
</td><td><p>17</p>
</td><td><p>1977</p>
</td><td><p>15</p>
</td><td><p>NL</p>
</td><td><p>F</p>
</td><td><p>31.0</p>
</td><td><p>NaN</p>
</td><td><p>Neotoma</p>
</td><td><p>albigula</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>3</p>
</th><td><p>38</p>
</td><td><p>7</p>
</td><td><p>17</p>
</td><td><p>1977</p>
</td><td><p>17</p>
</td><td><p>NL</p>
</td><td><p>M</p>
</td><td><p>33.0</p>
</td><td><p>NaN</p>
</td><td><p>Neotoma</p>
</td><td><p>albigula</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>4</p>
</th><td><p>72</p>
</td><td><p>8</p>
</td><td><p>19</p>
</td><td><p>1977</p>
</td><td><p>2</p>
</td><td><p>NL</p>
</td><td><p>M</p>
</td><td><p>31.0</p>
</td><td><p>NaN</p>
</td><td><p>Neotoma</p>
</td><td><p>albigula</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>…</p>
</th><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td></tr><tr><th><p>34781</p>
</th><td><p>28988</p>
</td><td><p>12</p>
</td><td><p>23</p>
</td><td><p>1998</p>
</td><td><p>6</p>
</td><td><p>CT</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>Cnemidophorus</p>
</td><td><p>tigris</p>
</td><td><p>Reptile</p>
</td></tr><tr><th><p>34782</p>
</th><td><p>35512</p>
</td><td><p>12</p>
</td><td><p>31</p>
</td><td><p>2002</p>
</td><td><p>11</p>
</td><td><p>US</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>Sparrow</p>
</td><td><p>sp.</p>
</td><td><p>Bird</p>
</td></tr><tr><th><p>34783</p>
</th><td><p>35513</p>
</td><td><p>12</p>
</td><td><p>31</p>
</td><td><p>2002</p>
</td><td><p>11</p>
</td><td><p>US</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>Sparrow</p>
</td><td><p>sp.</p>
</td><td><p>Bird</p>
</td></tr><tr><th><p>34784</p>
</th><td><p>35528</p>
</td><td><p>12</p>
</td><td><p>31</p>
</td><td><p>2002</p>
</td><td><p>13</p>
</td><td><p>US</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>Sparrow</p>
</td><td><p>sp.</p>
</td><td><p>Bird</p>
</td></tr><tr><th><p>34785</p>
</th><td><p>35544</p>
</td><td><p>12</p>
</td><td><p>31</p>
</td><td><p>2002</p>
</td><td><p>15</p>
</td><td><p>US</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>Sparrow</p>
</td><td><p>sp.</p>
</td><td><p>Bird</p>
</td></tr></tbody></table><p><p>34786 rows × 12 columns</p>
</p></div>
<p>The result <code class="docutils literal notranslate"><span class="pre">merged_inner</span></code> data frame contains all of the columns from
<code class="docutils literal notranslate"><span class="pre">surveys_df</span></code> (<code class="docutils literal notranslate"><span class="pre">record_id</span></code>, <code class="docutils literal notranslate"><span class="pre">month</span></code>, <code class="docutils literal notranslate"><span class="pre">day</span></code>, etc.) as well as all
the columns from <code class="docutils literal notranslate"><span class="pre">species_df</span></code> (<code class="docutils literal notranslate"><span class="pre">species_id</span></code>, <code class="docutils literal notranslate"><span class="pre">genus</span></code>, <code class="docutils literal notranslate"><span class="pre">species</span></code>,
and <code class="docutils literal notranslate"><span class="pre">taxa</span></code>).</p>
</section>
<section id="left-join">
<h3>Left join<a class="headerlink" href="#left-join" title="Permalink to this headline">#</a></h3>
<p>What if we want to add information from <code class="docutils literal notranslate"><span class="pre">species_df</span></code> to
<code class="docutils literal notranslate"><span class="pre">surveys_df</span></code>without losing any of the information from
<code class="docutils literal notranslate"><span class="pre">surveys_df</span></code>? In this case, we use a different type of join called a
left join, where we keep all rows from the data frame we call left (in
our case <code class="docutils literal notranslate"><span class="pre">surveys_df</span></code>) and only take rows from the right data frame
(<code class="docutils literal notranslate"><span class="pre">species_df</span></code>) with species IDs in <code class="docutils literal notranslate"><span class="pre">surveys_df</span></code>.</p>
<div class="row docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;div class=&quot;col-12&quot;&gt;
    &lt;img src=&quot;/_static/images/python/pandas/leftjoin.png&quot; class=&quot;img-fluid rounded align-middle mx-auto d-block&quot; style=&quot;max-width:100%;&quot; alt=&quot;inner join&quot;&gt;
&lt;/div&gt;
</pre></div>
</div>
</div>
<p>A left join is performed in pandas by calling the same <code class="docutils literal notranslate"><span class="pre">merge()</span></code>
function used for inner join, but using the <code class="docutils literal notranslate"><span class="pre">how='left'</span></code> argument.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">merged_left</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="n">surveys_df</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="n">species_df</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;species_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;species_id&#39;</span><span class="p">)</span>
<span class="n">merged_left</span>
</pre></div>
</div>
<div class="table docutils container">
<table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th><p>record_id</p>
</th><th><p>month</p>
</th><th><p>day</p>
</th><th><p>year</p>
</th><th><p>plot_id</p>
</th><th><p>species_id</p>
</th><th><p>sex</p>
</th><th><p>hindfoot_length</p>
</th><th><p>weight</p>
</th><th><p>genus</p>
</th><th><p>species</p>
</th><th><p>taxa</p>
</th></tr></thead><tbody><tr><th><p>0</p>
</th><td><p>1</p>
</td><td><p>7</p>
</td><td><p>16</p>
</td><td><p>1977</p>
</td><td><p>2</p>
</td><td><p>NL</p>
</td><td><p>M</p>
</td><td><p>32.0</p>
</td><td><p>NaN</p>
</td><td><p>Neotoma</p>
</td><td><p>albigula</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>1</p>
</th><td><p>2</p>
</td><td><p>7</p>
</td><td><p>16</p>
</td><td><p>1977</p>
</td><td><p>3</p>
</td><td><p>NL</p>
</td><td><p>M</p>
</td><td><p>33.0</p>
</td><td><p>NaN</p>
</td><td><p>Neotoma</p>
</td><td><p>albigula</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>2</p>
</th><td><p>3</p>
</td><td><p>7</p>
</td><td><p>16</p>
</td><td><p>1977</p>
</td><td><p>2</p>
</td><td><p>DM</p>
</td><td><p>F</p>
</td><td><p>37.0</p>
</td><td><p>NaN</p>
</td><td><p>Dipodomys</p>
</td><td><p>merriami</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>3</p>
</th><td><p>4</p>
</td><td><p>7</p>
</td><td><p>16</p>
</td><td><p>1977</p>
</td><td><p>7</p>
</td><td><p>DM</p>
</td><td><p>M</p>
</td><td><p>36.0</p>
</td><td><p>NaN</p>
</td><td><p>Dipodomys</p>
</td><td><p>merriami</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>4</p>
</th><td><p>5</p>
</td><td><p>7</p>
</td><td><p>16</p>
</td><td><p>1977</p>
</td><td><p>3</p>
</td><td><p>DM</p>
</td><td><p>M</p>
</td><td><p>35.0</p>
</td><td><p>NaN</p>
</td><td><p>Dipodomys</p>
</td><td><p>merriami</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>…</p>
</th><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td><td><p>…</p>
</td></tr><tr><th><p>35544</p>
</th><td><p>35545</p>
</td><td><p>12</p>
</td><td><p>31</p>
</td><td><p>2002</p>
</td><td><p>15</p>
</td><td><p>AH</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>Ammospermophilus</p>
</td><td><p>harrisi</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>35545</p>
</th><td><p>35546</p>
</td><td><p>12</p>
</td><td><p>31</p>
</td><td><p>2002</p>
</td><td><p>15</p>
</td><td><p>AH</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>Ammospermophilus</p>
</td><td><p>harrisi</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>35546</p>
</th><td><p>35547</p>
</td><td><p>12</p>
</td><td><p>31</p>
</td><td><p>2002</p>
</td><td><p>10</p>
</td><td><p>RM</p>
</td><td><p>F</p>
</td><td><p>15.0</p>
</td><td><p>14.0</p>
</td><td><p>Reithrodontomys</p>
</td><td><p>megalotis</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>35547</p>
</th><td><p>35548</p>
</td><td><p>12</p>
</td><td><p>31</p>
</td><td><p>2002</p>
</td><td><p>7</p>
</td><td><p>DO</p>
</td><td><p>M</p>
</td><td><p>36.0</p>
</td><td><p>51.0</p>
</td><td><p>Dipodomys</p>
</td><td><p>ordii</p>
</td><td><p>Rodent</p>
</td></tr><tr><th><p>35548</p>
</th><td><p>35549</p>
</td><td><p>12</p>
</td><td><p>31</p>
</td><td><p>2002</p>
</td><td><p>5</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td><td><p>NaN</p>
</td></tr></tbody></table><p><p>35549 rows × 12 columns</p>
</p></div>
</section>
</section>
<section id="export-data-frame-as-csv">
<h2>Export data frame as .csv<a class="headerlink" href="#export-data-frame-as-csv" title="Permalink to this headline">#</a></h2>
<p>If you have made modifications to a data set in Python and want to
export that to a new .csv, you can easily do that with the <code class="docutils literal notranslate"><span class="pre">.to_csv()</span></code>
method that all pandas data frames have.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">script</span> <span class="n">false</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="k">raise</span><span class="o">-</span><span class="n">error</span> <span class="c1">## comment this line to run the cell</span>

<span class="n">df_hungary</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;gapminder_hungary.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="c1"># index = False makes sure row names are not saved as their own columns</span>
</pre></div>
</div>
<section id="question-putting-it-together">
<h3>Question: Putting it together<a class="headerlink" href="#question-putting-it-together" title="Permalink to this headline">#</a></h3>
<p>Create two data frames called <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> with at least 3 columns
and 4 rows. Make one column in both <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> an identifier
column, with at least one ID present in both data frames. Use a left
join with <code class="docutils literal notranslate"><span class="pre">A</span></code> as the left data frame, and call the new data frame
<code class="docutils literal notranslate"><span class="pre">C</span></code>. Display the data frame, and export it as a .csv file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">### Your code here:</span>
</pre></div>
</div>
<details><summary><p>Solution</p>
</summary><div class="docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;ident&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.1</span><span class="p">,</span> <span class="mf">5.2</span><span class="p">,</span> <span class="mf">3.1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">],</span>
    <span class="s1">&#39;location&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;IL&#39;</span><span class="p">,</span> <span class="s1">&#39;MA&#39;</span><span class="p">,</span> <span class="s1">&#39;CA&#39;</span><span class="p">,</span> <span class="s1">&#39;NE&#39;</span><span class="p">]</span>

<span class="p">})</span>

<span class="n">B</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;ident&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="s1">&#39;animal&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;monkey&#39;</span><span class="p">,</span> <span class="s1">&#39;giraffe&#39;</span><span class="p">,</span> <span class="s1">&#39;ape&#39;</span><span class="p">,</span> <span class="s1">&#39;lion&#39;</span><span class="p">,</span> <span class="s1">&#39;fish&#39;</span><span class="p">],</span>
    <span class="s1">&#39;sex&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">,</span> <span class="s1">&#39;M&#39;</span><span class="p">]</span>
<span class="p">})</span>

<span class="n">C</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="n">A</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="n">B</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;ident&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;ident&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>

<span class="n">C</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;joined_data.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>   ident  size location animal  sex
0      0   2.1       IL    ape    F
1      1   5.2       MA   lion    F
2      2   3.1       CA    NaN  NaN
3      3   1.5       NE   fish    M
</pre></div>
</div>
</div>
</details></section>
</section>
<section id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/">Pandas docs</a></p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/docs/getting_started/index.html#getting-started">Pandas getting
started</a></p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/Pandas_Cheat_Sheet.pdf">Pandas
cheatsheet</a></p></li>
<li><p><a class="reference external" href="https://spark.apache.org/docs/latest/api/python/">PySpark for big
data</a></p></li>
</ul>
<p>This lesson is adapted from <a class="reference external" href="http://swcarpentry.github.io/python-novice-gapminder/design/">Software
Carpentry</a>.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="figures.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Making figures in Python</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="numpy.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">NumPy</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Ford Fishman
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Pandas</a><ul>
<li><a class="reference internal" href="#materials">Materials:</a></li>
<li><a class="reference internal" href="#read-data">Read data</a></li>
<li><a class="reference internal" href="#summarize-data-frame">Summarize data frame</a></li>
<li><a class="reference internal" href="#categorical-variables">Categorical variables</a></li>
<li><a class="reference internal" href="#numerical-variables">Numerical variables</a></li>
<li><a class="reference internal" href="#accessing-rows-and-specific-entries">Accessing rows and specific entries</a><ul>
<li><a class="reference internal" href="#question">Question</a></li>
</ul>
</li>
<li><a class="reference internal" href="#manipulate-data">Manipulate data</a><ul>
<li><a class="reference internal" href="#subset-by-row">Subset by row</a></li>
<li><a class="reference internal" href="#math">Math</a><ul>
<li><a class="reference internal" href="#question-working-with-data">Question: Working with data</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#create-your-own-data-frame">Create your own data frame</a></li>
<li><a class="reference internal" href="#sort-data-frame">Sort data frame</a></li>
<li><a class="reference internal" href="#add-rows">Add rows</a></li>
<li><a class="reference internal" href="#join-data-frames">Join data frames</a><ul>
<li><a class="reference internal" href="#inner-join">Inner Join</a></li>
<li><a class="reference internal" href="#left-join">Left join</a></li>
</ul>
</li>
<li><a class="reference internal" href="#export-data-frame-as-csv">Export data frame as .csv</a><ul>
<li><a class="reference internal" href="#question-putting-it-together">Question: Putting it together</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resources">Resources</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/tabs.js"></script>
    </body>
</html>