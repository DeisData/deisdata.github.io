<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VPGX1FF4LJ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-VPGX1FF4LJ');
    </script>
    <link rel="index" title="Index" href="../../genindex/" /><link rel="search" title="Search" href="../../search/" /><link rel="next" title="Installing R" href="../../r/" /><link rel="prev" title="Statistics with Python" href="../stats/" />

    <link rel="shortcut icon" href="../../_static/favicon-32x32.png"/><!-- Generated with Sphinx 7.1.2 and Furo 2024.08.06 -->
        <title>Web Scraping - DeisData</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=934bd528" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../"><div class="brand">DeisData</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/DeisDatax1x_medium.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">DeisData</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search/" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../">Python</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../setup-install/">Setup and installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../jupyter/">Jupyter notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../python-fundamentals/">Fundamentals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-structures/">Data structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../conditionals/">Booleans and conditionals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../loops/">Loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../numpy/">NumPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pandas/">Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../figures/">Matplotlib and seaborn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functions/">Writing functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stats/">Statistical tests</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Web scraping</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../r/">R</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of R</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../r/quick-start/">Intro to R and the Tidyverse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../r/data-wrangling/">Data wrangling with the Tidyverse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../r/data-visualization/">ggplot2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../r/data-analysis/">Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../r/text-mining/">Text mining</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../machine-learning/">Machine learning</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Machine learning</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../machine-learning/quick-start/">Quick start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../machine-learning/image-recognition1/">Image recognition: Model components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../machine-learning/image-recognition2/">Image recognition: Improving the model</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../shell/">Unix Shell</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Unix Shell</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../shell/setup/">Shell Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shell/navigating/">Navigating</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shell/alter-dir/">Altering directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shell/pipes-filters/">Pipes and filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shell/loops/">Loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shell/shell-scripts/">Shell scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../shell/search-find/">Searching and finding</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../git/">Git Version Control</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Git Version Control</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../git/setup-install/">Setup and installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../git/quick-start/">Quick start to Git and GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../git/pushing/">Pushing changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../git/fetch-merge/">Fetch and merge from GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../git/git-utilities/">Git utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../git/forking/">Forking in GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../git/glossary/">Git Glossary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../sql/">SQL</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of SQL</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sql/setup/">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sql/selecting-data/">Selecting data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sql/sorting-duplicates/">Sorting out and removing duplicates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sql/filtering/">Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sql/calculating/">Calculating new values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sql/missing-data/">Missing data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sql/aggregates/">Aggregates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sql/combining-data/">Combining data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sql/create-modify/">Create and modify</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sql/glossary/">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../case-studies/">Data Services Case Studies</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../contribute/">Contribute to DeisData</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Contribute to DeisData</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/small-changes/">Small changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/rst-intro/">reStructuredText basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/structural-changes/">Structural changes</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../_sources/python/webscraping.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="web-scraping">
<h1>Web Scraping<a class="headerlink" href="#web-scraping" title="Permalink to this heading">¶</a></h1>
<p>Webscraping is the process of extracting information from a web page or
multiple pages and using that information for some other purpose or
analysis. It can be used to aggregate and summarize information. Here,
we’ll show how to use web scraping to obtain information from two
different websites.</p>
<p>One thing to note is that many website have terms of service that
explicitly forbid web scraping entirely, and some limit the number of
requests you send them. Please carefully evaluate any web page you
scrape for any rules and regulations they have.</p>
<section id="processing-html-with-requests-and-beautifulsoup">
<h2>Processing HTML with requests and BeautifulSoup<a class="headerlink" href="#processing-html-with-requests-and-beautifulsoup" title="Permalink to this heading">¶</a></h2>
<p>We’re going to start with standard web scraping. We’ll import
<code class="docutils literal notranslate"><span class="pre">requests</span></code> and <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">requests</span></code> is used to make HTTP requests to urls. HTTP requests allow
communication between a server (where a website lives) and a client
(e.g. your browser). In our case, the client is the code we’re using
from the <code class="docutils literal notranslate"><span class="pre">requests</span></code> library.</p>
<p><code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code> is used to process HTML. HTML is the language that is
used to structure web documents. It defines what goes where on the page
and to some extent the style of objects on a page. <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code>
allows us to navigate HTML and extract useful information from it.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>
</pre></div>
</div>
</div>
</div>
<p>We are going to scape a web page designed for scraping:
<a class="reference external" href="https://www.scrapethissite.com/pages/simple/">https://www.scrapethissite.com/pages/simple/</a></p>
<p>This page includes some information about different countries in a
tabular format.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://www.scrapethissite.com/pages/simple/&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>To retrieve information from this page, we are going to use
<code class="docutils literal notranslate"><span class="pre">requests.get()</span></code>. This function uses the HTTP command <code class="docutils literal notranslate"><span class="pre">GET</span></code> to
retrieve the information from this URL.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get data from the URL</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">data</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;Response [200]&gt;
</pre></div>
</div>
</div>
</div>
<p>This response code means that we successfully retrieved the page. That
means that we can retrieve the HTML of the page by using the <code class="docutils literal notranslate"><span class="pre">.text</span></code>
attribute. We’ll then look at the first 1000 characters of the page’s
html.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">html</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">text</span>
<span class="n">html</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1000</span><span class="p">]</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--3-input--2" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n  &lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;title&gt;Countries of the World: A Simple Example | Scrape This Site | A public sandbox for learning web scraping&lt;/title&gt;\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;/static/images/scraper-icon.png&quot; /&gt;\n\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;meta name=&quot;description&quot; content=&quot;A single page that lists information about all the countries in the world. Good for those just get started with web scraping.&quot;&gt;\n\n    &lt;link href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha256-MfvZlkHCEqatNoGiOXveE8FIwMzZg4W85qfrfIFBfYc= sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;link href=\&#39;https://fonts.googleapis.com/css?family=Lato:400,700\&#39; rel=\&#39;stylesheet\&#39; type=\&#39;text/css\&#39;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/static/css/styles.css&quot;&gt;\n\n    \n&lt;meta name=&#39;
</pre></div>
</div>
</div>
</div>
<p>Now, let’s use Beautiful Soup to process this HTML. <code class="docutils literal notranslate"><span class="pre">BeautifulSoup()</span></code>
takes a second argument where we’ll tell it we want to parse HTML, as
opposed to other formats.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--4-input--1" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>If we print <code class="docutils literal notranslate"><span class="pre">soup.prettify()</span></code>, we can see the HTML in a structured
format.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--5-input--1" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--5-input--2" name="tab-set--5" type="radio"><label class="tab-label" for="tab-set--5-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;!DOCTYPE html&gt;
 &lt;html lang=&quot;en&quot;&gt;
 &lt;head&gt;
 &lt;meta charset=&quot;utf-8&quot;/&gt;
 &lt;title&gt;
  Countries of the World: A Simple Example | Scrape This Site | A public sandbox for learning web scraping
 &lt;/title&gt;
 &lt;link href=&quot;/static/images/scraper-icon.png&quot; rel=&quot;icon&quot; type=&quot;image/png&quot;/&gt;
 &lt;meta content=&quot;width=device-width, initial-scale=1.0&quot; name=&quot;viewport&quot;/&gt;
 &lt;meta content=&quot;A single page that lists information about all the countries in the world. Good for those just get started with web scraping.&quot; name=&quot;description&quot;/&gt;
 &lt;link crossorigin=&quot;anonymous&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css&quot; integrity=&quot;sha256-MfvZlkHCEqatNoGiOXveE8FIwMzZg4W85qfrfIFBfYc= sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==&quot; rel=&quot;stylesheet&quot;/&gt;
 &lt;link href=&quot;https://fonts.googleapis.com/css?family=Lato:400,700&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;
 &lt;link href=&quot;/static/css/styles.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;
 &lt;meta content=&quot;noindex
</pre></div>
</div>
</div>
</div>
<p>In HTML, tags define structure. For example, the text of a page lives in
the body tag:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--6-input--1" name="tab-set--6" type="radio"><label class="tab-label" for="tab-set--6-input--1">HTML</label><div class="tab-content docutils container">
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    ...
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>Tags come in pairs: opening tags and closing tags. Both use angled
brackets (<code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code>) but closing brackets also use a forward slash
(<code class="docutils literal notranslate"><span class="pre">&lt;/&gt;</span></code>). Tags can contain content in a single line
(<code class="docutils literal notranslate"><span class="pre">&lt;tag&gt;content&lt;/tag&gt;</span></code>) or across multiple lines like above.</p>
<p>Common tags: <a class="reference external" href="https://www.geeksforgeeks.org/html-tags-a-to-z-list/">https://www.geeksforgeeks.org/html-tags-a-to-z-list/</a></p>
<section id="retrieve-specific-html-tags">
<h3>Retrieve specific HTML tags<a class="headerlink" href="#retrieve-specific-html-tags" title="Permalink to this heading">¶</a></h3>
<p>When you are trying to retrieve a specific part of a page, it is
important to inspect the page to see the structure. On most browswers,
you can right click and navigate to “Inspect Element”. For instructions
on how to inspect, check out this link:
<a class="reference external" href="https://blog.hubspot.com/website/how-to-inspect">https://blog.hubspot.com/website/how-to-inspect</a></p>
<p>To find all appearances of a certain tag on a webpage, we can use
<code class="docutils literal notranslate"><span class="pre">soup.find_all(tagname)</span></code>, where <code class="docutils literal notranslate"><span class="pre">tagname</span></code> is a string like
<code class="docutils literal notranslate"><span class="pre">&quot;div&quot;</span></code>, a common type of tag.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--7-input--1" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">divs</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of divs: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">divs</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Example div&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">divs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">prettify</span><span class="p">())</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--7-input--2" name="tab-set--7" type="radio"><label class="tab-label" for="tab-set--7-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Number of divs: 599
Example div
&lt;div class=&quot;col-md-12&quot;&gt;
 &lt;ul class=&quot;nav nav-tabs&quot;&gt;
  &lt;li id=&quot;nav-homepage&quot;&gt;
   &lt;a class=&quot;nav-link hidden-sm hidden-xs&quot; href=&quot;/&quot;&gt;
    &lt;img id=&quot;nav-logo&quot; src=&quot;/static/images/scraper-icon.png&quot;/&gt;
    Scrape This Site
   &lt;/a&gt;
  &lt;/li&gt;
  &lt;li id=&quot;nav-sandbox&quot;&gt;
   &lt;a class=&quot;nav-link&quot; href=&quot;/pages/&quot;&gt;
    &lt;i class=&quot;glyphicon glyphicon-console hidden-sm hidden-xs&quot;&gt;
    &lt;/i&gt;
    Sandbox
   &lt;/a&gt;
  &lt;/li&gt;
  &lt;li id=&quot;nav-lessons&quot;&gt;
   &lt;a class=&quot;nav-link&quot; href=&quot;/lessons/&quot;&gt;
    &lt;i class=&quot;glyphicon glyphicon-education hidden-sm hidden-xs&quot;&gt;
    &lt;/i&gt;
    Lessons
   &lt;/a&gt;
  &lt;/li&gt;
  &lt;li id=&quot;nav-faq&quot;&gt;
...
   &lt;/a&gt;
  &lt;/li&gt;
 &lt;/ul&gt;
&lt;/div&gt;
</pre></div>
</div>
</div>
</div>
<p>As you can see, tags can contain a lot of information, including other
tags. <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> is a very common tag type, and this page has hundreds of
them.</p>
<p>Each tag can also have a class, and almost all <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> tags will have
one. These tags are linked to certain styles, which define appearance
and to some degree the function of the material in these tags.</p>
<p>This page stores country data in <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> tags with the class
<code class="docutils literal notranslate"><span class="pre">col-md-4</span> <span class="pre">country</span></code>.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--8-input--1" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">div_countries</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;col-md-4 country&quot;</span><span class="p">)</span>
<span class="n">div_countries</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--8-input--2" name="tab-set--8" type="radio"><label class="tab-label" for="tab-set--8-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;div class=&quot;col-md-4 country&quot;&gt;
&lt;h3 class=&quot;country-name&quot;&gt;
&lt;i class=&quot;flag-icon flag-icon-ad&quot;&gt;&lt;/i&gt;
                            Andorra
                        &lt;/h3&gt;
&lt;div class=&quot;country-info&quot;&gt;
&lt;strong&gt;Capital:&lt;/strong&gt; &lt;span class=&quot;country-capital&quot;&gt;Andorra la Vella&lt;/span&gt;&lt;br/&gt;
&lt;strong&gt;Population:&lt;/strong&gt; &lt;span class=&quot;country-population&quot;&gt;84000&lt;/span&gt;&lt;br/&gt;
&lt;strong&gt;Area (km&lt;sup&gt;2&lt;/sup&gt;):&lt;/strong&gt; &lt;span class=&quot;country-area&quot;&gt;468.0&lt;/span&gt;&lt;br/&gt;
&lt;/div&gt;
&lt;/div&gt;
</pre></div>
</div>
</div>
</div>
<p>Let’s take a look at the first country div. We’ll use <code class="docutils literal notranslate"><span class="pre">.text</span></code> to
remove the tag information and <code class="docutils literal notranslate"><span class="pre">.strip()</span></code> to remove some formatting
characters.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--9-input--1" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">div_countries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--9-input--2" name="tab-set--9" type="radio"><label class="tab-label" for="tab-set--9-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Andorra


Capital: Andorra la Vella
Population: 84000
Area (km2): 468.0
</pre></div>
</div>
</div>
</div>
<p>If we look inside of the div, we can find other key information. For
instance, each country <code class="docutils literal notranslate"><span class="pre">div</span></code> contains a <code class="docutils literal notranslate"><span class="pre">div</span></code> of class
<code class="docutils literal notranslate"><span class="pre">country-capital</span></code>.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--10-input--1" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">div_countries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;country-capital&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--10-input--2" name="tab-set--10" type="radio"><label class="tab-label" for="tab-set--10-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;span class=&quot;country-capital&quot;&gt;Andorra la Vella&lt;/span&gt;
</pre></div>
</div>
</div>
</div>
<p>There are also similar divs with the classes <code class="docutils literal notranslate"><span class="pre">country-name</span></code>,
<code class="docutils literal notranslate"><span class="pre">country-population</span></code>, and <code class="docutils literal notranslate"><span class="pre">country-area</span></code>.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--13-input--1" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">div_countries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;country-name&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--13-input--2" name="tab-set--13" type="radio"><label class="tab-label" for="tab-set--13-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;h3 class=&quot;country-name&quot;&gt;
&lt;i class=&quot;flag-icon flag-icon-ad&quot;&gt;&lt;/i&gt;
                            Andorra
                        &lt;/h3&gt;
</pre></div>
</div>
</div>
</div>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--12-input--1" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">div_countries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;country-population&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--12-input--2" name="tab-set--12" type="radio"><label class="tab-label" for="tab-set--12-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;span class=&quot;country-population&quot;&gt;84000&lt;/span&gt;
</pre></div>
</div>
</div>
</div>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--11-input--1" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">div_countries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;country-area&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--11-input--2" name="tab-set--11" type="radio"><label class="tab-label" for="tab-set--11-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;span class=&quot;country-area&quot;&gt;468.0&lt;/span&gt;
</pre></div>
</div>
</div>
</div>
<p>We can use a for loop to iterate over the country divs to grab each
capital.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--14-input--1" name="tab-set--14" type="radio"><label class="tab-label" for="tab-set--14-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">capitals</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>

    <span class="n">country</span> <span class="o">=</span> <span class="n">div_countries</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">capital</span> <span class="o">=</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;country-capital&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
    <span class="n">capitals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">capital</span><span class="p">)</span>

<span class="n">capitals</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--14-input--2" name="tab-set--14" type="radio"><label class="tab-label" for="tab-set--14-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;Andorra la Vella&#39;, &#39;Abu Dhabi&#39;, &#39;Kabul&#39;, &quot;St. John&#39;s&quot;, &#39;The Valley&#39;]
</pre></div>
</div>
</div>
</div>
<p>We can use this approach to store the information in a pandas data
frame.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--15-input--1" name="tab-set--15" type="radio"><label class="tab-label" for="tab-set--15-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">country_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="n">capitals</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="n">populations</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="n">areas</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

<span class="k">for</span> <span class="n">country</span> <span class="ow">in</span> <span class="n">div_countries</span><span class="p">:</span>

    <span class="n">country_name</span> <span class="o">=</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s1">&#39;country-name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="c1"># have to remove special characters</span>
    <span class="n">capital</span> <span class="o">=</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;country-capital&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
    <span class="n">population</span> <span class="o">=</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;country-population&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
    <span class="n">area</span> <span class="o">=</span> <span class="n">country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;country-area&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>

    <span class="n">country_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">country_name</span><span class="p">)</span>
    <span class="n">capitals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">capital</span><span class="p">)</span>
    <span class="n">populations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>
    <span class="n">areas</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">area</span><span class="p">)</span>

<span class="n">country_data_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;country&#39;</span><span class="p">:</span> <span class="n">country_names</span><span class="p">,</span>
    <span class="s1">&#39;capital&#39;</span><span class="p">:</span> <span class="n">capitals</span><span class="p">,</span>
    <span class="s1">&#39;population&#39;</span><span class="p">:</span> <span class="n">populations</span><span class="p">,</span>
    <span class="s1">&#39;area&#39;</span><span class="p">:</span> <span class="n">areas</span>
<span class="p">}</span>

<span class="n">countries_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">country_data_dict</span><span class="p">)</span>
<span class="n">countries_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--15-input--2" name="tab-set--15" type="radio"><label class="tab-label" for="tab-set--15-input--2">Output</label><div class="tab-content docutils container">
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>country</p></th>
<th class="head"><p>capital</p></th>
<th class="head"><p>population</p></th>
<th class="head"><p>area</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Andorra</p></td>
<td><p>Andorra la Vella</p></td>
<td><p>84000</p></td>
<td><p>468.0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>United Arab Emirates</p></td>
<td><p>Abu Dhabi</p></td>
<td><p>4975593</p></td>
<td><p>82880.0</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Afghanistan</p></td>
<td><p>Kabul</p></td>
<td><p>29121286</p></td>
<td><p>647500.0</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Antigua and Barbuda</p></td>
<td><p>St. John’s</p></td>
<td><p>86754</p></td>
<td><p>443.0</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>Anguilla</p></td>
<td><p>The Valley</p></td>
<td><p>13254</p></td>
<td><p>102.0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
</section>
<section id="api-u-s-bureau-of-labor-statistics">
<h2>API - U.S. Bureau of Labor Statistics<a class="headerlink" href="#api-u-s-bureau-of-labor-statistics" title="Permalink to this heading">¶</a></h2>
<p>Another way to extract data from websites is using APIs (Application
Programming Interfaces) that some websites provide.
<a class="reference external" href="https://www.programmableweb.com/apis">https://www.programmableweb.com/apis</a></p>
<p>APIs are “intermediaries” that allow one software to talk to another.
Keep in mind that most APIs have limited usage policies. We will use the
U.S. Bureau of Labor Statistics’ API to extract data. They have two
API’s, one of which we can use without registration to get several years
of data. We will be using this version: <a class="reference external" href="https://www.bls.gov/developers/api_signature.htm#single">BLS Public Data API Signatures
(Version
1.0)</a>.</p>
<p>If you are intested in this API, you can register for <a class="reference external" href="https://www.bls.gov/developers/home.htm">a more powerful
API with greater access to
data</a>.</p>
<p>Disclaimer: BLS.gov cannot vouch for the data or analyses derived from
these data after the data have been retrieved from BLS.gov.</p>
<p>This API, as well as many others, works with a data format called JSON.
JSON looks and acts similarly to a Python dictionary, and we can
interact with it with the <code class="docutils literal notranslate"><span class="pre">json</span></code> library.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--16-input--1" name="tab-set--16" type="radio"><label class="tab-label" for="tab-set--16-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</pre></div>
</div>
</div>
</div>
<p>The BLS has many data sets to choose from. We are going to use one on
civilian unemployment.</p>
<p>To interact with the API, instead of using <code class="docutils literal notranslate"><span class="pre">requests.get()</span></code>, we’ll use
<code class="docutils literal notranslate"><span class="pre">requests.post()</span></code>. The <a class="reference external" href="https://data.bls.gov/toppicks?survey=bls">data
series</a> we are looking at
is labeled as LNS13000000 and contains seasonally-adjusted civilian
umemployment. We also will interact with a API-specific URL.</p>
<p>The post will need two other arguments besides the URL to work. We’ll
provide headers, which provides the website some information about the
format we want the data in. We’ll also provide some data about the data
we want, specifically a series ID and year ranges for the data.</p>
<p><code class="docutils literal notranslate"><span class="pre">json.dumps()</span></code> converts a Python dictionary into a json object, while
<code class="docutils literal notranslate"><span class="pre">json.loads()</span></code> does the opposite.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--17-input--1" name="tab-set--17" type="radio"><label class="tab-label" for="tab-set--17-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Content-type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">}</span>
<span class="c1"># civilian unemployment query</span>
<span class="n">post_json</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;seriesid&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;LNS13000000&#39;</span><span class="p">],</span> <span class="s2">&quot;startyear&quot;</span><span class="p">:</span><span class="s2">&quot;2015&quot;</span><span class="p">,</span> <span class="s2">&quot;endyear&quot;</span><span class="p">:</span><span class="s2">&quot;2024&quot;</span><span class="p">}</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">post_json</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;https://api.bls.gov/publicAPI/v1/timeseries/data/&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="n">json_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="n">json_data</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--17-input--2" name="tab-set--17" type="radio"><label class="tab-label" for="tab-set--17-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;status&#39;: &#39;REQUEST_SUCCEEDED&#39;,
 &#39;responseTime&#39;: 175,
 &#39;message&#39;: [],
 &#39;Results&#39;: {&#39;series&#39;: [{&#39;seriesID&#39;: &#39;LNS13000000&#39;,
    &#39;data&#39;: [{&#39;year&#39;: &#39;2024&#39;,
      &#39;period&#39;: &#39;M08&#39;,
      &#39;periodName&#39;: &#39;August&#39;,
      &#39;latest&#39;: &#39;true&#39;,
      &#39;value&#39;: &#39;7115&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2024&#39;,
      &#39;period&#39;: &#39;M07&#39;,
      &#39;periodName&#39;: &#39;July&#39;,
      &#39;value&#39;: &#39;7163&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2024&#39;,
      &#39;period&#39;: &#39;M06&#39;,
      &#39;periodName&#39;: &#39;June&#39;,
      &#39;value&#39;: &#39;6811&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2024&#39;,
      &#39;period&#39;: &#39;M05&#39;,
      &#39;periodName&#39;: &#39;May&#39;,
      &#39;value&#39;: &#39;6649&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2024&#39;,
      &#39;period&#39;: &#39;M04&#39;,
      &#39;periodName&#39;: &#39;April&#39;,
      &#39;value&#39;: &#39;6492&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2024&#39;,
      &#39;period&#39;: &#39;M03&#39;,
      &#39;periodName&#39;: &#39;March&#39;,
      &#39;value&#39;: &#39;6429&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2024&#39;,
      &#39;period&#39;: &#39;M02&#39;,
      &#39;periodName&#39;: &#39;February&#39;,
      &#39;value&#39;: &#39;6458&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2024&#39;,
      &#39;period&#39;: &#39;M01&#39;,
      &#39;periodName&#39;: &#39;January&#39;,
      &#39;value&#39;: &#39;6124&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2023&#39;,
      &#39;period&#39;: &#39;M12&#39;,
      &#39;periodName&#39;: &#39;December&#39;,
      &#39;value&#39;: &#39;6268&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2023&#39;,
      &#39;period&#39;: &#39;M11&#39;,
      &#39;periodName&#39;: &#39;November&#39;,
      &#39;value&#39;: &#39;6262&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2023&#39;,
      &#39;period&#39;: &#39;M10&#39;,
      &#39;periodName&#39;: &#39;October&#39;,
      &#39;value&#39;: &#39;6443&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2023&#39;,
      &#39;period&#39;: &#39;M09&#39;,
      &#39;periodName&#39;: &#39;September&#39;,
      &#39;value&#39;: &#39;6347&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2023&#39;,
      &#39;period&#39;: &#39;M08&#39;,
      &#39;periodName&#39;: &#39;August&#39;,
      &#39;value&#39;: &#39;6340&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2023&#39;,
      &#39;period&#39;: &#39;M07&#39;,
      &#39;periodName&#39;: &#39;July&#39;,
      &#39;value&#39;: &#39;5904&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2023&#39;,
      &#39;period&#39;: &#39;M06&#39;,
      &#39;periodName&#39;: &#39;June&#39;,
      &#39;value&#39;: &#39;5997&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2023&#39;,
      &#39;period&#39;: &#39;M05&#39;,
      &#39;periodName&#39;: &#39;May&#39;,
      &#39;value&#39;: &#39;6117&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2023&#39;,
      &#39;period&#39;: &#39;M04&#39;,
      &#39;periodName&#39;: &#39;April&#39;,
      &#39;value&#39;: &#39;5715&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2023&#39;,
      &#39;period&#39;: &#39;M03&#39;,
      &#39;periodName&#39;: &#39;March&#39;,
      &#39;value&#39;: &#39;5866&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2023&#39;,
      &#39;period&#39;: &#39;M02&#39;,
      &#39;periodName&#39;: &#39;February&#39;,
      &#39;value&#39;: &#39;5962&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2023&#39;,
      &#39;period&#39;: &#39;M01&#39;,
      &#39;periodName&#39;: &#39;January&#39;,
      &#39;value&#39;: &#39;5719&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2022&#39;,
      &#39;period&#39;: &#39;M12&#39;,
      &#39;periodName&#39;: &#39;December&#39;,
      &#39;value&#39;: &#39;5698&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2022&#39;,
      &#39;period&#39;: &#39;M11&#39;,
      &#39;periodName&#39;: &#39;November&#39;,
      &#39;value&#39;: &#39;5956&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2022&#39;,
      &#39;period&#39;: &#39;M10&#39;,
      &#39;periodName&#39;: &#39;October&#39;,
      &#39;value&#39;: &#39;5950&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2022&#39;,
      &#39;period&#39;: &#39;M09&#39;,
      &#39;periodName&#39;: &#39;September&#39;,
      &#39;value&#39;: &#39;5755&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2022&#39;,
      &#39;period&#39;: &#39;M08&#39;,
      &#39;periodName&#39;: &#39;August&#39;,
      &#39;value&#39;: &#39;5983&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2022&#39;,
      &#39;period&#39;: &#39;M07&#39;,
      &#39;periodName&#39;: &#39;July&#39;,
      &#39;value&#39;: &#39;5783&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2022&#39;,
      &#39;period&#39;: &#39;M06&#39;,
      &#39;periodName&#39;: &#39;June&#39;,
      &#39;value&#39;: &#39;5984&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2022&#39;,
      &#39;period&#39;: &#39;M05&#39;,
      &#39;periodName&#39;: &#39;May&#39;,
      &#39;value&#39;: &#39;5966&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2022&#39;,
      &#39;period&#39;: &#39;M04&#39;,
      &#39;periodName&#39;: &#39;April&#39;,
      &#39;value&#39;: &#39;6034&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2022&#39;,
      &#39;period&#39;: &#39;M03&#39;,
      &#39;periodName&#39;: &#39;March&#39;,
      &#39;value&#39;: &#39;5993&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2022&#39;,
      &#39;period&#39;: &#39;M02&#39;,
      &#39;periodName&#39;: &#39;February&#39;,
      &#39;value&#39;: &#39;6279&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2022&#39;,
      &#39;period&#39;: &#39;M01&#39;,
      &#39;periodName&#39;: &#39;January&#39;,
      &#39;value&#39;: &#39;6549&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2021&#39;,
      &#39;period&#39;: &#39;M12&#39;,
      &#39;periodName&#39;: &#39;December&#39;,
      &#39;value&#39;: &#39;6305&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2021&#39;,
      &#39;period&#39;: &#39;M11&#39;,
      &#39;periodName&#39;: &#39;November&#39;,
      &#39;value&#39;: &#39;6733&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2021&#39;,
      &#39;period&#39;: &#39;M10&#39;,
      &#39;periodName&#39;: &#39;October&#39;,
      &#39;value&#39;: &#39;7244&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2021&#39;,
      &#39;period&#39;: &#39;M09&#39;,
      &#39;periodName&#39;: &#39;September&#39;,
      &#39;value&#39;: &#39;7659&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2021&#39;,
      &#39;period&#39;: &#39;M08&#39;,
      &#39;periodName&#39;: &#39;August&#39;,
      &#39;value&#39;: &#39;8288&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2021&#39;,
      &#39;period&#39;: &#39;M07&#39;,
      &#39;periodName&#39;: &#39;July&#39;,
      &#39;value&#39;: &#39;8770&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2021&#39;,
      &#39;period&#39;: &#39;M06&#39;,
      &#39;periodName&#39;: &#39;June&#39;,
      &#39;value&#39;: &#39;9547&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2021&#39;,
      &#39;period&#39;: &#39;M05&#39;,
      &#39;periodName&#39;: &#39;May&#39;,
      &#39;value&#39;: &#39;9250&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2021&#39;,
      &#39;period&#39;: &#39;M04&#39;,
      &#39;periodName&#39;: &#39;April&#39;,
      &#39;value&#39;: &#39;9801&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2021&#39;,
      &#39;period&#39;: &#39;M03&#39;,
      &#39;periodName&#39;: &#39;March&#39;,
      &#39;value&#39;: &#39;9734&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2021&#39;,
      &#39;period&#39;: &#39;M02&#39;,
      &#39;periodName&#39;: &#39;February&#39;,
      &#39;value&#39;: &#39;9992&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2021&#39;,
      &#39;period&#39;: &#39;M01&#39;,
      &#39;periodName&#39;: &#39;January&#39;,
      &#39;value&#39;: &#39;10196&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2020&#39;,
      &#39;period&#39;: &#39;M12&#39;,
      &#39;periodName&#39;: &#39;December&#39;,
      &#39;value&#39;: &#39;10772&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2020&#39;,
      &#39;period&#39;: &#39;M11&#39;,
      &#39;periodName&#39;: &#39;November&#39;,
      &#39;value&#39;: &#39;10713&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2020&#39;,
      &#39;period&#39;: &#39;M10&#39;,
      &#39;periodName&#39;: &#39;October&#39;,
      &#39;value&#39;: &#39;11012&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2020&#39;,
      &#39;period&#39;: &#39;M09&#39;,
      &#39;periodName&#39;: &#39;September&#39;,
      &#39;value&#39;: &#39;12573&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2020&#39;,
      &#39;period&#39;: &#39;M08&#39;,
      &#39;periodName&#39;: &#39;August&#39;,
      &#39;value&#39;: &#39;13498&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2020&#39;,
      &#39;period&#39;: &#39;M07&#39;,
      &#39;periodName&#39;: &#39;July&#39;,
      &#39;value&#39;: &#39;16391&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2020&#39;,
      &#39;period&#39;: &#39;M06&#39;,
      &#39;periodName&#39;: &#39;June&#39;,
      &#39;value&#39;: &#39;17658&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2020&#39;,
      &#39;period&#39;: &#39;M05&#39;,
      &#39;periodName&#39;: &#39;May&#39;,
      &#39;value&#39;: &#39;20933&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2020&#39;,
      &#39;period&#39;: &#39;M04&#39;,
      &#39;periodName&#39;: &#39;April&#39;,
      &#39;value&#39;: &#39;23090&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2020&#39;,
      &#39;period&#39;: &#39;M03&#39;,
      &#39;periodName&#39;: &#39;March&#39;,
      &#39;value&#39;: &#39;7209&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2020&#39;,
      &#39;period&#39;: &#39;M02&#39;,
      &#39;periodName&#39;: &#39;February&#39;,
      &#39;value&#39;: &#39;5729&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2020&#39;,
      &#39;period&#39;: &#39;M01&#39;,
      &#39;periodName&#39;: &#39;January&#39;,
      &#39;value&#39;: &#39;5842&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2019&#39;,
      &#39;period&#39;: &#39;M12&#39;,
      &#39;periodName&#39;: &#39;December&#39;,
      &#39;value&#39;: &#39;5853&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2019&#39;,
      &#39;period&#39;: &#39;M11&#39;,
      &#39;periodName&#39;: &#39;November&#39;,
      &#39;value&#39;: &#39;5868&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2019&#39;,
      &#39;period&#39;: &#39;M10&#39;,
      &#39;periodName&#39;: &#39;October&#39;,
      &#39;value&#39;: &#39;5871&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2019&#39;,
      &#39;period&#39;: &#39;M09&#39;,
      &#39;periodName&#39;: &#39;September&#39;,
      &#39;value&#39;: &#39;5753&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2019&#39;,
      &#39;period&#39;: &#39;M08&#39;,
      &#39;periodName&#39;: &#39;August&#39;,
      &#39;value&#39;: &#39;5945&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2019&#39;,
      &#39;period&#39;: &#39;M07&#39;,
      &#39;periodName&#39;: &#39;July&#39;,
      &#39;value&#39;: &#39;6061&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2019&#39;,
      &#39;period&#39;: &#39;M06&#39;,
      &#39;periodName&#39;: &#39;June&#39;,
      &#39;value&#39;: &#39;5935&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2019&#39;,
      &#39;period&#39;: &#39;M05&#39;,
      &#39;periodName&#39;: &#39;May&#39;,
      &#39;value&#39;: &#39;5930&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2019&#39;,
      &#39;period&#39;: &#39;M04&#39;,
      &#39;periodName&#39;: &#39;April&#39;,
      &#39;value&#39;: &#39;5961&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2019&#39;,
      &#39;period&#39;: &#39;M03&#39;,
      &#39;periodName&#39;: &#39;March&#39;,
      &#39;value&#39;: &#39;6202&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2019&#39;,
      &#39;period&#39;: &#39;M02&#39;,
      &#39;periodName&#39;: &#39;February&#39;,
      &#39;value&#39;: &#39;6136&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2019&#39;,
      &#39;period&#39;: &#39;M01&#39;,
      &#39;periodName&#39;: &#39;January&#39;,
      &#39;value&#39;: &#39;6475&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2018&#39;,
      &#39;period&#39;: &#39;M12&#39;,
      &#39;periodName&#39;: &#39;December&#39;,
      &#39;value&#39;: &#39;6389&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2018&#39;,
      &#39;period&#39;: &#39;M11&#39;,
      &#39;periodName&#39;: &#39;November&#39;,
      &#39;value&#39;: &#39;6115&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2018&#39;,
      &#39;period&#39;: &#39;M10&#39;,
      &#39;periodName&#39;: &#39;October&#39;,
      &#39;value&#39;: &#39;6211&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2018&#39;,
      &#39;period&#39;: &#39;M09&#39;,
      &#39;periodName&#39;: &#39;September&#39;,
      &#39;value&#39;: &#39;6073&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2018&#39;,
      &#39;period&#39;: &#39;M08&#39;,
      &#39;periodName&#39;: &#39;August&#39;,
      &#39;value&#39;: &#39;6156&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2018&#39;,
      &#39;period&#39;: &#39;M07&#39;,
      &#39;periodName&#39;: &#39;July&#39;,
      &#39;value&#39;: &#39;6195&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2018&#39;,
      &#39;period&#39;: &#39;M06&#39;,
      &#39;periodName&#39;: &#39;June&#39;,
      &#39;value&#39;: &#39;6447&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2018&#39;,
      &#39;period&#39;: &#39;M05&#39;,
      &#39;periodName&#39;: &#39;May&#39;,
      &#39;value&#39;: &#39;6196&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2018&#39;,
      &#39;period&#39;: &#39;M04&#39;,
      &#39;periodName&#39;: &#39;April&#39;,
      &#39;value&#39;: &#39;6459&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2018&#39;,
      &#39;period&#39;: &#39;M03&#39;,
      &#39;periodName&#39;: &#39;March&#39;,
      &#39;value&#39;: &#39;6472&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2018&#39;,
      &#39;period&#39;: &#39;M02&#39;,
      &#39;periodName&#39;: &#39;February&#39;,
      &#39;value&#39;: &#39;6581&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2018&#39;,
      &#39;period&#39;: &#39;M01&#39;,
      &#39;periodName&#39;: &#39;January&#39;,
      &#39;value&#39;: &#39;6489&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2017&#39;,
      &#39;period&#39;: &#39;M12&#39;,
      &#39;periodName&#39;: &#39;December&#39;,
      &#39;value&#39;: &#39;6632&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2017&#39;,
      &#39;period&#39;: &#39;M11&#39;,
      &#39;periodName&#39;: &#39;November&#39;,
      &#39;value&#39;: &#39;6774&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2017&#39;,
      &#39;period&#39;: &#39;M10&#39;,
      &#39;periodName&#39;: &#39;October&#39;,
      &#39;value&#39;: &#39;6700&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2017&#39;,
      &#39;period&#39;: &#39;M09&#39;,
      &#39;periodName&#39;: &#39;September&#39;,
      &#39;value&#39;: &#39;6854&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2017&#39;,
      &#39;period&#39;: &#39;M08&#39;,
      &#39;periodName&#39;: &#39;August&#39;,
      &#39;value&#39;: &#39;7082&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2017&#39;,
      &#39;period&#39;: &#39;M07&#39;,
      &#39;periodName&#39;: &#39;July&#39;,
      &#39;value&#39;: &#39;6892&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2017&#39;,
      &#39;period&#39;: &#39;M06&#39;,
      &#39;periodName&#39;: &#39;June&#39;,
      &#39;value&#39;: &#39;6873&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2017&#39;,
      &#39;period&#39;: &#39;M05&#39;,
      &#39;periodName&#39;: &#39;May&#39;,
      &#39;value&#39;: &#39;7000&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2017&#39;,
      &#39;period&#39;: &#39;M04&#39;,
      &#39;periodName&#39;: &#39;April&#39;,
      &#39;value&#39;: &#39;7089&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2017&#39;,
      &#39;period&#39;: &#39;M03&#39;,
      &#39;periodName&#39;: &#39;March&#39;,
      &#39;value&#39;: &#39;7073&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2017&#39;,
      &#39;period&#39;: &#39;M02&#39;,
      &#39;periodName&#39;: &#39;February&#39;,
      &#39;value&#39;: &#39;7379&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2017&#39;,
      &#39;period&#39;: &#39;M01&#39;,
      &#39;periodName&#39;: &#39;January&#39;,
      &#39;value&#39;: &#39;7468&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2016&#39;,
      &#39;period&#39;: &#39;M12&#39;,
      &#39;periodName&#39;: &#39;December&#39;,
      &#39;value&#39;: &#39;7521&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2016&#39;,
      &#39;period&#39;: &#39;M11&#39;,
      &#39;periodName&#39;: &#39;November&#39;,
      &#39;value&#39;: &#39;7553&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2016&#39;,
      &#39;period&#39;: &#39;M10&#39;,
      &#39;periodName&#39;: &#39;October&#39;,
      &#39;value&#39;: &#39;7811&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2016&#39;,
      &#39;period&#39;: &#39;M09&#39;,
      &#39;periodName&#39;: &#39;September&#39;,
      &#39;value&#39;: &#39;7953&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2016&#39;,
      &#39;period&#39;: &#39;M08&#39;,
      &#39;periodName&#39;: &#39;August&#39;,
      &#39;value&#39;: &#39;7784&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2016&#39;,
      &#39;period&#39;: &#39;M07&#39;,
      &#39;periodName&#39;: &#39;July&#39;,
      &#39;value&#39;: &#39;7641&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2016&#39;,
      &#39;period&#39;: &#39;M06&#39;,
      &#39;periodName&#39;: &#39;June&#39;,
      &#39;value&#39;: &#39;7744&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2016&#39;,
      &#39;period&#39;: &#39;M05&#39;,
      &#39;periodName&#39;: &#39;May&#39;,
      &#39;value&#39;: &#39;7652&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2016&#39;,
      &#39;period&#39;: &#39;M04&#39;,
      &#39;periodName&#39;: &#39;April&#39;,
      &#39;value&#39;: &#39;8067&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2016&#39;,
      &#39;period&#39;: &#39;M03&#39;,
      &#39;periodName&#39;: &#39;March&#39;,
      &#39;value&#39;: &#39;7961&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2016&#39;,
      &#39;period&#39;: &#39;M02&#39;,
      &#39;periodName&#39;: &#39;February&#39;,
      &#39;value&#39;: &#39;7702&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2016&#39;,
      &#39;period&#39;: &#39;M01&#39;,
      &#39;periodName&#39;: &#39;January&#39;,
      &#39;value&#39;: &#39;7627&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2015&#39;,
      &#39;period&#39;: &#39;M12&#39;,
      &#39;periodName&#39;: &#39;December&#39;,
      &#39;value&#39;: &#39;7907&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2015&#39;,
      &#39;period&#39;: &#39;M11&#39;,
      &#39;periodName&#39;: &#39;November&#39;,
      &#39;value&#39;: &#39;8000&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2015&#39;,
      &#39;period&#39;: &#39;M10&#39;,
      &#39;periodName&#39;: &#39;October&#39;,
      &#39;value&#39;: &#39;7922&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2015&#39;,
      &#39;period&#39;: &#39;M09&#39;,
      &#39;periodName&#39;: &#39;September&#39;,
      &#39;value&#39;: &#39;7907&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2015&#39;,
      &#39;period&#39;: &#39;M08&#39;,
      &#39;periodName&#39;: &#39;August&#39;,
      &#39;value&#39;: &#39;7992&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2015&#39;,
      &#39;period&#39;: &#39;M07&#39;,
      &#39;periodName&#39;: &#39;July&#39;,
      &#39;value&#39;: &#39;8167&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2015&#39;,
      &#39;period&#39;: &#39;M06&#39;,
      &#39;periodName&#39;: &#39;June&#39;,
      &#39;value&#39;: &#39;8247&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2015&#39;,
      &#39;period&#39;: &#39;M05&#39;,
      &#39;periodName&#39;: &#39;May&#39;,
      &#39;value&#39;: &#39;8834&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2015&#39;,
      &#39;period&#39;: &#39;M04&#39;,
      &#39;periodName&#39;: &#39;April&#39;,
      &#39;value&#39;: &#39;8550&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2015&#39;,
      &#39;period&#39;: &#39;M03&#39;,
      &#39;periodName&#39;: &#39;March&#39;,
      &#39;value&#39;: &#39;8515&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2015&#39;,
      &#39;period&#39;: &#39;M02&#39;,
      &#39;periodName&#39;: &#39;February&#39;,
      &#39;value&#39;: &#39;8599&#39;,
      &#39;footnotes&#39;: [{}]},
     {&#39;year&#39;: &#39;2015&#39;,
      &#39;period&#39;: &#39;M01&#39;,
      &#39;periodName&#39;: &#39;January&#39;,
      &#39;value&#39;: &#39;8885&#39;,
      &#39;footnotes&#39;: [{}]}]}]}}
</pre></div>
</div>
</div>
</div>
<p>We can use a similar pipeline as we did above to get the json data into
a pandas dictionary.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--18-input--1" name="tab-set--18" type="radio"><label class="tab-label" for="tab-set--18-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pandas_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;seriesId&#39;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s1">&#39;period&#39;</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>

<span class="k">for</span> <span class="n">series</span> <span class="ow">in</span> <span class="n">json_data</span><span class="p">[</span><span class="s1">&#39;Results&#39;</span><span class="p">][</span><span class="s1">&#39;series&#39;</span><span class="p">]:</span>

    <span class="n">seriesId</span> <span class="o">=</span> <span class="n">series</span><span class="p">[</span><span class="s1">&#39;seriesID&#39;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">series</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]:</span>
        <span class="n">year</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span>
        <span class="n">period</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;period&#39;</span><span class="p">]</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span>

        <span class="n">pandas_data</span><span class="p">[</span><span class="s1">&#39;seriesId&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">seriesId</span><span class="p">)</span>
        <span class="n">pandas_data</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">year</span><span class="p">)</span>
        <span class="n">pandas_data</span><span class="p">[</span><span class="s1">&#39;period&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">period</span><span class="p">)</span>
        <span class="n">pandas_data</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s convert our dictionary into a pandas DataFrame and take a look at
it.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--19-input--1" name="tab-set--19" type="radio"><label class="tab-label" for="tab-set--19-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pandas_data</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--19-input--2" name="tab-set--19" type="radio"><label class="tab-label" for="tab-set--19-input--2">Output</label><div class="tab-content docutils container">
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>seriesId</p></th>
<th class="head"><p>year</p></th>
<th class="head"><p>period</p></th>
<th class="head"><p>value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>LNS13000000</p></td>
<td><p>2024</p></td>
<td><p>M08</p></td>
<td><p>7115</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>LNS13000000</p></td>
<td><p>2024</p></td>
<td><p>M07</p></td>
<td><p>7163</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>LNS13000000</p></td>
<td><p>2024</p></td>
<td><p>M06</p></td>
<td><p>6811</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>LNS13000000</p></td>
<td><p>2024</p></td>
<td><p>M05</p></td>
<td><p>6649</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>LNS13000000</p></td>
<td><p>2024</p></td>
<td><p>M04</p></td>
<td><p>6492</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>When you are loading data from a website, it can sometimes be a good
idea to check how the data loaded into pandas. For instance, sometimes
numerical variables are treated as categorical variables. We can the
data type of our columns with <code class="docutils literal notranslate"><span class="pre">df.dtypes</span></code>.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--20-input--1" name="tab-set--20" type="radio"><label class="tab-label" for="tab-set--20-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--20-input--2" name="tab-set--20" type="radio"><label class="tab-label" for="tab-set--20-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>seriesId     object
year         object
period       object
value        object
footnotes    object
dtype: object
</pre></div>
</div>
</div>
</div>
<p>It looks like <code class="docutils literal notranslate"><span class="pre">'year'</span></code> and <code class="docutils literal notranslate"><span class="pre">'value'</span></code> are currently object columns,
which means they will be treated as strings. We can change the column by
using <code class="docutils literal notranslate"><span class="pre">.astype('int64')</span></code> and re-assigning the output to our columns.
<code class="docutils literal notranslate"><span class="pre">'int64'</span></code> is a pandas-specific data type for integer values.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--21-input--1" name="tab-set--21" type="radio"><label class="tab-label" for="tab-set--21-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int64&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--21-input--2" name="tab-set--21" type="radio"><label class="tab-label" for="tab-set--21-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>seriesId     object
year          int64
period       object
value         int64
footnotes    object
dtype: object
</pre></div>
</div>
</div>
</div>
<p>Now that we’ve fixed the data types of our variables, we’re going to
summarize citizen employment unemployment by year. To do this, we can
group our data by year with <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> and then calculating the
mean.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--22-input--1" name="tab-set--22" type="radio"><label class="tab-label" for="tab-set--22-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">year_groups</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span>
<span class="n">unemployment_by_year</span> <span class="o">=</span> <span class="n">year_groups</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">unemployment_by_year</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--22-input--2" name="tab-set--22" type="radio"><label class="tab-label" for="tab-set--22-input--2">Output</label><div class="tab-content docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>year
2019     5999.166667
2020    12951.666667
2021     8626.583333
2022     5994.166667
2023     6078.333333
2024     6655.125000
Name: value, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>When you produce a summary of a grouped DataFrame, you can use
<code class="docutils literal notranslate"><span class="pre">.reset_index()</span></code> to turn it back into a standard, non-grouped data
frame.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--23-input--1" name="tab-set--23" type="radio"><label class="tab-label" for="tab-set--23-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">unemployment_by_year_df</span> <span class="o">=</span> <span class="n">unemployment_by_year</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">unemployment_by_year_df</span>
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--23-input--2" name="tab-set--23" type="radio"><label class="tab-label" for="tab-set--23-input--2">Output</label><div class="tab-content docutils container">
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>year</p></th>
<th class="head"><p>value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2019</p></td>
<td><p>5999.166667</p></td>
</tr>
<tr class="row-odd"><td><p>2020</p></td>
<td><p>12951.666667</p></td>
</tr>
<tr class="row-even"><td><p>2021</p></td>
<td><p>8626.583333</p></td>
</tr>
<tr class="row-odd"><td><p>2022</p></td>
<td><p>5994.166667</p></td>
</tr>
<tr class="row-even"><td><p>2023</p></td>
<td><p>6078.333333</p></td>
</tr>
<tr class="row-odd"><td><p>2024</p></td>
<td><p>6655.125000</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Now, let’s use matplotlib to plot the change in civilian unemployment
over the last few years.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--25-input--1" name="tab-set--25" type="radio"><label class="tab-label" for="tab-set--25-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">unemployment_by_year_df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">],</span> <span class="n">unemployment_by_year_df</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Unemployment&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--24-input--1" name="tab-set--24" type="radio"><label class="tab-label" for="tab-set--24-input--1">Output</label><div class="tab-content docutils container">
<div style="background-color: white;"><p><img alt="web 48_0" class="align-middle" src="../../_images/webscraping_48_0.png" /></p>
</div></div>
</div>
<p>Finally, we can save our unemployment data for future use or storage.</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--26-input--1" name="tab-set--26" type="radio"><label class="tab-label" for="tab-set--26-input--1">Python</label><div class="tab-content docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;output.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>User identifying agents:
<a class="reference external" href="https://www.zenrows.com/blog/python-requests-user-agent#what-is">https://www.zenrows.com/blog/python-requests-user-agent#what-is</a></p></li>
<li><p>Navigate Javascript and logins with Selenium: <a class="reference external" href="https://selenium-python.readthedocs.io/index.html">https://selenium-python.readthedocs.io/index.html</a></p></li>
</ul>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../../r/">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Installing R</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../stats/">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Statistics with Python</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Ford Fishman
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Web Scraping</a><ul>
<li><a class="reference internal" href="#processing-html-with-requests-and-beautifulsoup">Processing HTML with requests and BeautifulSoup</a><ul>
<li><a class="reference internal" href="#retrieve-specific-html-tags">Retrieve specific HTML tags</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-u-s-bureau-of-labor-statistics">API - U.S. Bureau of Labor Statistics</a></li>
<li><a class="reference internal" href="#resources">Resources</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=fbdbc327"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="../../_static/tabs.js?v=3ee01567"></script>
    </body>
</html>